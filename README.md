# WT Bieb

WT Software Development track project: full-stack bibliotheek applicatie met Java als back-end.

# Java

## Dependencies

- Spring Web
- Spring Security
- Spring Data JPA
- Spring Data JDBC
- MySQL Driver

## Launch

Zorg ervoor dat je Eclipse workspace zich buiten de repository bevindt. Ieder heeft zijn eigen metadata en deze moet niet gepushed worden.

## Import

1. File -> Import -> Maven -> Existing Maven Projects.
2. Open nu de java map in onze repository en finish.
3. Run BiebApplication.java om alles te starten.

## Database

Zorg ervoor dat de database wt_bieb toegankelijk is.

## Requests

### Account

**GET**<br/>
Return all accounts<br/>
*http://localhost:8080/api/accounts*

**GET**<br/>
Return account by `Long id`<br/>
*http://localhost:8080/api/accounts/id/* `{id}`

**POST**<br/>
Return created account using `{"email": "name@domain.com"}`<br/>
*http://localhost:8080/api/accounts*

**Note:** The email input must be unique else we throw an error. The other account fields can be provided but as these are auto generated by default they will be ignored in the service. The current passwords are just for show.

### Book

**GET**<br/>
Return all books<br/>
*http://localhost:8080/api/books*

**GET**<br/>
Return book by `Long id`<br/>
*http://localhost:8080/api/books/id/* `{id}`

**GET**<br/>
Return book by `String isbn`<br/>
*http://localhost:8080/api/books/isbn/* `{isbn}`

**POST**<br/>
Return created account using `{"isbn":"123", "title":"Book Title", "language":"eng", "description":"Book description", "coverUrl":"https://", "publishYear":2000, "nameAuthor":"Name", "isPhysical":true}`<br/>
*http://localhost:8080/api/books*

**Note:** The isbn and coverUrl must be unique else we throw an error. All the fields are required and even though we can pull most information from Open Library, some information might be missing and must be added manually.

**POST**<br/>
Return added bookitem for book using `Long id`<br/>
*http://localhost:8080/api/books/* `{id}` */item*

**Note:** We can create and add a bookitem to a book by sending an empty post body. Even though we can send all the needed data using a get request, those are cached and could be triggered on accident which is undesirable.

**PUT**<br/>
Return assigned label for book `Long id` using `Long id`<br/>
*http://localhost:8080/api/books/* `{bookId}` */label/* `{labelId}`

**Note:** Assign a known label to a book. We use a put here as we assign a label to a book which arguably updates the book entity. We throw an error if the label is already asigned or if the label or book is not found.

### BookItem

**GET**<br/>
Return all bookitems<br/>
*http://localhost:8080/api/bookitems*

**GET**<br/>
Return bookitem by `Long id`<br/>
*http://localhost:8080/api/bookitems/id/* `{id}`

### Label

**GET**<br/>
Return all labels<br/>
*http://localhost:8080/api/labels*

**GET**<br/>
Return label by `Long id`<br/>
*http://localhost:8080/api/labels/id/* `{id}`

**POST**<br/>
Return created label using `{"name": "Nieuwe Tag"}`<br/>
*http://localhost:8080/api/labels*

**Note:** The name input must be unique else we throw an error.
