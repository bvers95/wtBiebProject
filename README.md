# WT Bieb

WT Software Development track project: full-stack bibliotheek applicatie met Java als back-end.

# React

## Install

Voordat we gebruik kunnen maken van onze React App moeten we eerst de LTS versie van [Node.js](https://nodejs.org/) downloaden en installeren. Node.js komt automatisch met een package manager genaamd NPM, deze manager is nodig voor het kunnen managen van de verschillende dependencies en dus in principe de React App.

1. Controleer of Node.js correct is geïnstalleerd met `node -v`.
2. Controleer vervolgens of NPM is geïnstalleerd met `npm -v`.
3. Navigeer naar de React App (de map met *package.JSON*).
4. Om de dependencies te downloaden type je `npm install`.

## Launch

Kijk vooral in de React App naar het README.md bestand voor meer informatie. Navigeer naar de React App en type `npm start` om onze React App te starten. Het opstarten kan even duren dus niet zomaar terminals sluiten als ze niet lijken te reageren. Voor het bewerken van de verschillende files kan je Visual Studio Code gebruiken.

# Java

## Dependencies

- Spring Web
- Spring Security
- Spring Data JPA
- Spring Data JDBC
- MySQL Driver
- Spring Boot Devtools (Development)

## Launch

Zorg ervoor dat je Eclipse workspace zich buiten de repository bevindt. Ieder heeft zijn eigen metadata en deze moet niet gepushed worden.

## Import

1. File -> Import -> Maven -> Existing Maven Projects.
2. Open nu de java map in onze repository en finish.
3. Run BiebApplication.java om alles te starten.

## Database

Zorg ervoor dat de database wt_bieb toegankelijk is. Daarbij kan je ook de `book-query` gebruiken die te vinden is in `import`. Kopieer de content van deze file en plak deze in de SQL query van `book` middels phpMyAdmin. Doe dit alleen als al de database tables al toegankelijk zijn.

## Requests

### Account

**GET**<br/>
Return all accounts<br/>
*http://localhost:8080/api/accounts*

**GET**<br/>
Return account by `Long id`<br/>
*http://localhost:8080/api/accounts/id/* `{id}`

**POST**<br/>
Return created account using `{"email": "name@domain.com"}`<br/>
*http://localhost:8080/api/accounts*

**Note:** The email input must be unique else we throw an error. The other account fields can be provided but as these are auto generated by default they will be ignored in the service. The current passwords are just for show.

**POST**<br/>
Return created loanEvent using `Long accountId` and `Long bookItemId`<br/>
*http://localhost:8080/api/accounts/* `{accountId}` */bookitem/* `{bookItemId}`

**Note** Both account and the bookitem must already exist in the database, if not the program will throw an error. The body of the post should be empty.

### Book

**GET**<br/>
Return all books<br/>
*http://localhost:8080/api/books*

**GET**<br/>
Return book by `Long id`<br/>
*http://localhost:8080/api/books/id/* `{id}`

**GET**<br/>
Return book by `String isbn`<br/>
*http://localhost:8080/api/books/isbn/* `{isbn}`

**POST**<br/>
Return created account using `{"isbn":"123", "title":"Book Title", "language":"eng", "description":"Book description", "publishYear":2000, "nameAuthor":"Name", "isPhysical":true}`<br/>
*http://localhost:8080/api/books*

**Note:** The isbn input must be unique else we throw an error. All the fields are required and even though we can pull most information from Open Library, some information might be missing and must be added manually.

**POST**<br/>
Return added bookitem for book using `Long id`<br/>
*http://localhost:8080/api/books/* `{id}` */bookitem*

**Note:** We can create and add a bookitem to a book by sending an empty post body. Even though we can send all the needed data using a get request, those are cached and could be triggered on accident which is undesirable.

**PUT**<br/>
Return assigned label for book `Long BookId` using `Long labelId`<br/>
*http://localhost:8080/api/books/* `{bookId}` */label/* `{labelId}`

**Note:** Assign a known label to a book. We use a put here as we assign a label to a book which arguably updates the book entity. We throw an error if the label is already asigned or if the label or book is not found.

### BookItem

**GET**<br/>
Return all bookItems<br/>
*http://localhost:8080/api/bookitems*

**GET**<br/>
Return bookItem by `Long id`<br/>
*http://localhost:8080/api/bookitems/id/* `{id}`

**POST**
Return created bookItem by using `Long bookId`<br/>
*http://localhost:8080/api/bookitems/* `{bookId}`

**Note:** We can create and add a bookitem to a book by sending an empty post body. Even though we can send all the needed data using a get request, those are cached and could be triggered on accident which is undesirable.

### Label

**GET**<br/>
Return all labels<br/>
*http://localhost:8080/api/labels*

**GET**<br/>
Return label by `Long id`<br/>
*http://localhost:8080/api/labels/id/* `{id}`

**POST**<br/>
Return created label using `{"name": "Nieuwe Tag"}`<br/>
*http://localhost:8080/api/labels*

**Note:** The name input must be unique else we throw an error because having multiple labels with the same name wouldn't make much sense.

### LoanEvent

**GET**<br/>
Return all loanEvents<br/>
*http://loacalhost:8080/api/loanevents*

**GET**<br/>
Return loanEvent by `Long id`<br/>
*http://localhost:8080/api/loanevents/id/* `{id}`
